10         'OOOO Подготовка OOOO
20 CLEAR 600
30 OPEN "GRP:" AS #1
40 DATA C,D,E,F,G,A,B
50 DIM N$(20)
60  FOR I=0 TO 2
70      FOR J=0 TO 6
80         READ A$
90         N$(I*7+J)="O"+STR$(I+3)+A$
100     NEXT J
110     RESTORE
120 NEXT I
130 SCREEN 2,0
140 SPRITE$(0)=CHR$(192)+CHR$(192)
150 M$="":X=S:Y=118:K=7:W$=N$(K)
160 FOR I=0 TO 4
170     LINE(0,104-I*16)-(255,104-I*16)
180 NEXT I
190 PUT SPRITE 0,(X,Y),,0
200        'OOOO Перемещение курсора OOOO
210 F$=INPUT$(1)
220 IF X>250 GOTO 370
230 IFASC(F$)=30ANDK<20THENY=Y-8:K=K+1:W$=N$(K):P1=0:P2=0:GOTO 190
240 IFASC(F$)=31ANDK>0THENY=Y+8:K=K-1:P2=0:W$=N$(K):P1=0:GOTO 190
250 IF(F$="+"ORF$="-")ANDP1=0ANDP2=0 THEN W$=W$+F$:P1=1:GOTO 210
260 IFVAL(F$)<>0ANDP2=0THENW$=W$+F$:P2=1:GOTO 210
270 IF ASC(F$)=28 THEN 290
280 IF ASC(F$)=13 GOTO 370 ELSE 210
290        'OOOO Установка ноты OOOO
300 PSET(X,Y-4),4
310 PRINT #1,"M"
320 P1=0:P2=0
330 X=X+8:M$=M$+W$+" "
340 PLAY W$:W$=N$(K)
350 GOTO 190
360        'OOOO Окончание работы OOOO
370 PLAY M$
380 SCREEN 0
390 PRINT M$
400 END
